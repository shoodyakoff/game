# GOTOGROW: Product Requirements Document

## Описание продукта
Образовательная игра GOTOGROW для обучения Product Manager'ов через игровые механики. Игрок развивает своего PM-персонажа, решая реальные продуктовые задачи и принимая стратегические решения.

## Целевая аудитория
- Начинающие PM
  - Студенты профильных курсов
  - Джуниор PM'ы (0-1 год опыта)
- Специалисты, меняющие карьеру
  - Разработчики
  - Аналитики
  - Дизайнеры

## Ключевые ценности
1. Обучение через практику
2. Геймификация реальных сценариев
3. Прогресс и обратная связь
4. Социальное взаимодействие
5. Сохранность данных пользователя
6. Персонализированный опыт обучения
7. Безопасность пользовательских данных

## Основные функции

### 1. Базовая механика
- ⬜ Авторизация через Google
- ✅ Авторизация через email/пароль с сохранением в БД
- ✅ Автосохранение прогресса
- ✅ Создание персонажа
  - ✅ Выбор имени
  - ✅ Выбор типа PM из 5 доступных
  - ✅ Понимание уровня сложности персонажа
- ✅ Улучшенное управление сессиями
  - ✅ Проверка актуальности сессии на дашборде
  - ✅ Кэширование данных сессии
  - ✅ Предотвращение циклических запросов
  - ✅ Безопасный выход из системы

### 2. Игровой мир
- ✅ Интерактивная карта уровней
  - ✅ Визуализация прогресса
  - ✅ Открытие новых уровней
  - ✅ Индикация сложности
  - ✅ Переход к профилю и прогрессу
- ✅ Система уровней
  - ✅ Последовательное открытие
  - ✅ Различные сценарии
  - ✅ Специальные условия для разных типов PM
  - ⬜ Аналитика прохождения уровней
- ✅ Система диалогов
  - ✅ Линейные диалоги с NPC в уровнях
  - ✅ Подведение итогов после уровня
  - ⬜ Будущее: ветвление диалогов
  - ⬜ Будущее: интеграция с AI для анализа решений

### 3. Система персонажей
- ✅ 5 типов Product Manager персонажей
  - ✅ Product Lead (Стратег) - нормальная сложность
  - ✅ Agile Coach (Поддержка) - сложная сложность
  - ✅ Growth Hacker (DPS) - экстрим сложность
  - ✅ UX Visionary (Дизайнер) - легкая сложность
  - ✅ Tech PM (Гибрид) - сложная сложность
- ✅ Экипировка и подготовка
  - ✅ Специальные предметы для типов PM
  - ✅ Врожденные способности персонажей
- ⬜ Система развития
  - ⬜ Получение опыта
  - ✅ Новые предметы
  - ⬜ Улучшение характеристик

### 4. Система наград и обратной связи
- ⬜ Опыт за прохождение
- ✅ Предметы экипировки
  - ✅ Получение наград за прохождение уровней
  - ✅ Отображение на экране завершения уровня
  - ✅ Сохранение в localStorage
  - ⬜ Планируется: сохранение в БД
- ✅ Открытие новых уровней
- ✅ Достижения
  - ✅ Система достижений с иконками и описаниями
  - ✅ Отображение на экране завершения уровня
  - ✅ Сохранение в localStorage
  - ⬜ Планируется: сохранение в БД
- ⬜ Анализ решений
  - ⬜ Оценка прохождения уровня
  - ⬜ Рекомендации по улучшению
  - ⬜ Статистика решений

### 5. Синхронизация и сохранение данных
- ✅ Сохранение профиля пользователя в БД
- ⬜ Сохранение характеристик персонажа в БД
  - ✅ Временное решение: сохранение в localStorage и Redux store
  - ⬜ Планируется: миграция на сохранение в MongoDB
- ⬜ Сохранение прогресса прохождения уровней в БД
  - ✅ Временное решение: сохранение в localStorage
  - ⬜ Планируется: миграция на сохранение в MongoDB с синхронизацией
- ⬜ История активности пользователя
  - ⬜ Логирование действий для аналитики
  - ⬜ Восстановление прогресса после сбоев

## Технологический стек (MVP)
- **Фронтенд**: React/Next.js, TypeScript, Redux Toolkit, Framer Motion
- **Бэкенд**: Node.js (Express), TypeScript
- **База данных**: MongoDB
- **Аутентификация**: JWT + bcrypt, NextAuth.js
- **Кэширование**: Redis (планируется)
- **Инфраструктура**: Docker, TimewEB Cloud

## Требования к устройствам
- **Десктоп**: минимальное разрешение 1280x720px
- **Браузеры**: Chrome, Firefox, Safari (последние 2 версии)

## Этапы реализации
1. ✅ Авторизация и вход с сохранением в БД
2. ✅ Выбор имени и персонажа из 5 доступных типов
3. ✅ Сохранение персонажа в БД
4. ✅ Карта с уровнями и выбор уровней
5. ✅ Синхронизация прогресса с БД
6. ✅ Прохождение уровней с саммари
7. ✅ Улучшенная система управления сессиями
   - ✅ Компонент DashboardInitializer для проверки сессии
   - ✅ Единая система проверки сессий с кэшированием
   - ✅ Безопасный механизм выхода из системы
8. ⬜ Серверная обработка результатов прохождения
9. ⬜ Интеграция аналитики и статистики прохождения
10. ⬜ Система достижений и рейтингов
11. ⬜ Социальные функции 