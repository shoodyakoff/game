# UI-компоненты

## Общее описание
Документ описывает технические требования к универсальным UI-компонентам игровой системы GOTOGROW. Эти компоненты используются в различных частях приложения и обеспечивают единообразие пользовательского интерфейса.

## Компонент "Ментор"

### 1. Назначение компонента
Универсальный компонент "Ментор" для отображения контекстной подсказки/совета в интерфейсе игровых уровней GOTOGROW.

### 2. Дизайн компонента

#### 2.1. Визуальное представление
- **Иконка**: Аватар ментора (`avatar_mentor.png`) вместо вопросительного знака
- **Размер иконки**: 40px × 40px (сохранить текущий размер)
- **Цветовая схема блока**: Использовать акцентный цвет из общих стилей (предлагается индиго/синий `#4F46E5` или фиолетовый `#7c3aed`)
- **Внешний вид блока**: Закругленные углы (border-radius: 8px), тень для выделения

#### 2.2. Анимация
- Плавное появление/исчезновение (transition: opacity 0.3s ease, transform 0.3s ease)
- Небольшой эффект масштабирования при наведении на иконку (transform: scale(1.05))

### 3. Функциональность

#### 3.1. Поведение блока
- При клике на иконку открывается информационный блок
- Блок закрывается при:
  - Повторном клике на иконку
  - Клике вне блока
  - Нажатии на кнопку закрытия внутри блока (×)

#### 3.2. Позиционирование
- **Умное позиционирование**: Блок всегда отображается в видимой части экрана
- **Логика отображения**: 
  - Если иконка находится в левой части экрана — блок открывается справа от иконки
  - Если иконка находится в правой части экрана — блок открывается слева от иконки
  - Аналогично для верхней/нижней части экрана
  - Блок никогда не должен выходить за границы видимой области экрана

#### 3.3. Адаптивность
- Корректное отображение на всех устройствах (десктоп, планшет, мобильный)
- На мобильных устройствах блок может занимать большую часть экрана

### 4. Техническая реализация

#### 4.1. Структура компонента
```jsx
<MentorTip 
  position="left|right|auto" // Позиция относительно контекста, auto по умолчанию
  content="Текст подсказки или JSX" // Содержимое блока подсказки
  iconPosition="fixed|absolute|relative" // Способ позиционирования иконки
  className="" // Дополнительные классы для стилизации
/>
```

#### 4.2. Требования к реализации
- Использовать React Hooks для управления состоянием (useState, useEffect, useRef)
- Использовать useRef для определения положения иконки и границ экрана
- Внедрить useClickOutside для закрытия блока при клике вне него
- Компонент должен быть переиспользуемым и принимать различное содержимое

#### 4.3. Технические аспекты позиционирования
- Использовать getBoundingClientRect() для определения положения элементов
- Динамически рассчитывать позицию блока подсказки при изменении размеров окна
- Отслеживать выход за границы экрана через window.innerWidth/innerHeight

### 5. Содержимое

#### 5.1. Структура содержимого
- **Заголовок**: "Ментор" (может изменяться в зависимости от контекста)
- **Основной текст**: Описание/подсказка (может включать списки, выделенный текст)
- **Кнопка закрытия**: В верхнем правом углу

#### 5.2. Форматирование содержимого
- Возможность использования HTML-форматирования внутри содержимого
- Поддержка маркированных списков и абзацев
- Возможность выделения ключевых слов полужирным шрифтом

### 6. Доступность
- ARIA-атрибуты для экранных читалок
- Фокус на блоке при открытии для навигации с клавиатуры
- Закрытие по клавише ESC

### 7. Примеры использования
```jsx
// Пример 1: Простой текст
<MentorTip content="Вы будете чередовать теорию и практику, чтобы сразу закреплять полученные знания." />

// Пример 2: Расширенный контент с JSX
<MentorTip
  content={
    <>
      <h3>Ментор</h3>
      <p>В этом уровне вы научитесь:</p>
      <ul>
        <li>Анализировать пользовательский опыт</li>
        <li>Работать с метриками продукта</li>
        <li>Принимать решения на основе данных</li>
      </ul>
    </>
  }
/>
```

## Интеграция с игровыми уровнями

Компонент "Ментор" должен быть интегрирован во все игровые уровни, чтобы обеспечить контекстную помощь игрокам. Расположение и содержимое советов ментора должно быть настроено для каждого уровня, обеспечивая релевантную информацию в нужный момент прохождения. 