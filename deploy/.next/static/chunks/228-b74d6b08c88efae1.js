"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[228],{8724:function(e,t,l){var s=l(5893),i=l(7294),n=l(1163),a=l(1649),o=l(3845),r=l(8696);let d=e=>{let{children:t,characterRequired:l=!1}=e,d=(0,n.useRouter)(),c=(0,a.I0)(),{isAuthenticated:h,loading:m}=(0,a.v9)(e=>e.auth),x=(0,a.v9)(o.BM),[u,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=async()=>{await c((0,r.t0)()),g(!0)};e()},[c]),(0,i.useEffect)(()=>{if(!u)return;let e=!!localStorage.getItem("token");if(m||h||e){if(!m&&h&&l&&!x){let e=encodeURIComponent(d.asPath),t=d.asPath;t.includes("/dashboard")||t.includes("/levels")?d.push("/character?redirectTo=/levels"):d.push("/character?redirectTo=".concat(e))}}else{let e=encodeURIComponent(d.asPath);d.push("/auth/login?returnUrl=".concat(e))}},[m,h,d,l,x,u]),!m&&u&&(h||localStorage.getItem("token"))&&(!l||x))?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)("div",{className:"min-h-screen bg-slate-900"})};t.Z=d},2981:function(e,t,l){var s=l(5893),i=l(7294),n=l(1526),a=l(3495);let o=e=>{let{tip:t,avatar:l="/characters/avatar_mentor.png",name:o="Ментор",showIcon:r=!0,position:d="top-right"}=e,[c,h]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("button",{onClick:()=>h(!c),className:"bg-yellow-500/20 text-yellow-500 p-2 rounded-full hover:bg-yellow-500/30 transition-all cursor-pointer",title:"Совет ментора",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})}),(0,s.jsx)(n.M,{children:c&&(0,s.jsx)(a.E.div,{className:"absolute z-50 w-72 bg-yellow-900/30 border-l-4 border-yellow-500 p-4 rounded-r-md shadow-lg ".concat({"top-right":"bottom-full right-0 mb-2","bottom-right":"top-full right-0 mt-2","bottom-left":"top-full left-0 mt-2","top-left":"bottom-full left-0 mb-2"}[d]),initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:(0,s.jsxs)("div",{className:"flex items-start",children:[l&&(0,s.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,s.jsx)("img",{src:l,alt:o,className:"w-8 h-8 rounded-full"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-yellow-500 mb-1",children:o}),(0,s.jsx)("p",{className:"text-slate-300",children:t})]}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"ml-auto -mt-1 -mr-1 text-slate-400 hover:text-slate-300",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})]})};t.Z=o},276:function(e,t,l){var s=l(5893),i=l(7294),n=l(3495);let a=e=>{let{questions:t,onComplete:l}=e,[a,o]=(0,i.useState)(0),[r,d]=(0,i.useState)({}),[c,h]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),[u,g]=(0,i.useState)(0),b=t[a],v=e=>{d({...r,[b.id]:e})},f=()=>{let e=b.options.find(e=>e.id===r[b.id]);(null==e?void 0:e.isCorrect)&&g(e=>e+1),b.explanation?h(!0):p()},p=()=>{if(h(!1),a<t.length-1)o(a+1);else{var e;x(!0),l(u+((null===(e=b.options.find(e=>e.id===r[b.id]))||void 0===e?void 0:e.isCorrect)?1:0),r)}},w=e=>r[b.id]===e,j=()=>!!r[b.id];return b?(0,s.jsx)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-3xl mx-auto",children:m?(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[(0,s.jsxs)("div",{className:"text-6xl font-bold text-white mb-2",children:[u,"/",t.length]}),(0,s.jsx)("p",{className:"text-slate-300 mb-6",children:u===t.length?"Отлично! Вы ответили на все вопросы верно!":u>=.7*t.length?"Хороший результат! Вы хорошо понимаете материал.":u>=.5*t.length?"Неплохо, но есть над чем поработать.":"Попробуйте еще раз после повторения материала."}),(0,s.jsx)("div",{className:"bg-slate-700 rounded-full h-4 mb-6",children:(0,s.jsx)("div",{className:"h-4 rounded-full ".concat(u===t.length?"bg-green-500":u>=.7*t.length?"bg-green-500":u>=.5*t.length?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(u/t.length*100,"%")}})}),(0,s.jsx)("button",{onClick:()=>l(u,r),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:"Завершить"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"text-indigo-400 text-sm font-medium",children:["Вопрос ",a+1," из ",t.length]}),(0,s.jsx)("div",{className:"bg-slate-700 rounded-full h-2 flex-1 mx-4",children:(0,s.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(a/t.length*100,"%")}})}),(0,s.jsxs)("div",{className:"text-white text-sm font-medium",children:[Math.round(a/t.length*100),"%"]})]}),c?(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:b.question}),(0,s.jsx)("div",{className:"mb-6",children:b.options.map(e=>{let t=w(e.id),l=t?e.isCorrect?"bg-green-600":"bg-red-600":e.isCorrect?"bg-green-600":"bg-slate-700";return(0,s.jsx)("div",{className:"".concat(l," p-4 rounded-lg mb-3 transition-colors"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-3 border ".concat(t?"bg-white border-white":"border-slate-500"),children:t&&(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-slate-800",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("span",{className:"text-white",children:e.text})]})},e.id)})}),(0,s.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"text-indigo-300 font-medium mb-2",children:"Объяснение:"}),(0,s.jsx)("p",{className:"text-white",children:b.explanation})]}),(0,s.jsx)("button",{onClick:p,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:a<t.length-1?"Следующий вопрос":"Завершить тест"})]}):(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,s.jsx)("h3",{className:"text-xl font-medium text-white mb-6",children:b.question}),(0,s.jsx)("div",{className:"mb-6",children:b.options.map(e=>(0,s.jsx)("div",{className:"".concat(w(e.id)?"bg-indigo-600 border-indigo-500":"bg-slate-700 border-slate-600 hover:bg-slate-600"," p-4 rounded-lg mb-3 cursor-pointer border transition-colors"),onClick:()=>v(e.id),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-3 border ".concat(w(e.id)?"bg-white border-white":"border-slate-500"),children:w(e.id)&&(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-indigo-600",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("span",{className:"text-white",children:e.text})]})},e.id))}),(0,s.jsx)("button",{onClick:f,disabled:!j(),className:"w-full py-3 text-white font-medium rounded-lg transition-colors ".concat(j()?"bg-indigo-600 hover:bg-indigo-700":"bg-slate-600 cursor-not-allowed"),children:"Ответить"})]})]})}):null};t.Z=a}}]);