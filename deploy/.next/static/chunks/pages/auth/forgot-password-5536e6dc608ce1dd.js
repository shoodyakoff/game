(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{9452:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/forgot-password",function(){return a(9394)}])},9394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(5893),i=a(7294),r=a(1163),l=a(9008),n=a.n(l),c=a(1664),o=a.n(c),m=a(3495),d=a(7066);function x(){let e=(0,r.useRouter)(),[t,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[x,h]=(0,i.useState)({text:"",error:!1}),u=e=>{a(e.target.value),h({text:"",error:!1})},p=async a=>{if(a.preventDefault(),!t){h({text:"Пожалуйста, введите ваш email",error:!0});return}c(!0),h({text:"",error:!1});try{await d.Z.post("/api/auth/forgot-password",{email:t}),h({text:"Инструкции по восстановлению пароля отправлены на ваш email",error:!1}),setTimeout(()=>{e.push("/auth/login")},5e3)}catch(e){var s,i;h({text:(null===(s=e.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)||"Произошла ошибка при обработке запроса",error:!0})}finally{c(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Восстановление пароля | GOTOGROW"}),(0,s.jsx)("meta",{name:"description",content:"Восстановите доступ к вашему аккаунту"})]}),(0,s.jsx)(m.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-gray-900 to-slate-900 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(m.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(m.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"mb-6",children:(0,s.jsx)("div",{className:"h-20 mx-auto flex items-center justify-center",children:(0,s.jsxs)("h1",{className:"text-3xl font-bold text-indigo-400",children:["GAME",(0,s.jsx)("span",{className:"text-white",children:"PORTAL"})]})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Восстановление пароля"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Введите ваш email для получения инструкций"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8",children:[x.text&&(0,s.jsx)(m.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"".concat(x.error?"bg-red-500/10 border-red-500/50 text-red-300":"bg-green-500/10 border-green-500/50 text-green-300"," border px-4 py-3 rounded mb-6"),children:(0,s.jsx)("p",{children:x.text})}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:u,className:"input-primary w-full",placeholder:"your@email.com"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:l,className:"btn-primary w-full",children:l?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Отправка..."]}):"Восстановить пароль"})})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Вспомнили пароль? "}),(0,s.jsx)(o(),{href:"/auth/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Войти"})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center text-sm text-gray-400",children:(0,s.jsx)(o(),{href:"/",className:"hover:text-white",children:"← Вернуться на главную"})})]})})]})}}},function(e){e.O(0,[495,664,774,888,179],function(){return e(e.s=9452)}),_N_E=e.O()}]);