(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(4156)}])},4156:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(5893),i=s(7294),r=s(1163),l=s(9008),n=s.n(l),c=s(1664),m=s.n(c),o=s(1649),d=s(3495),x=s(8696),u=s(4852);function h(){let e=(0,r.useRouter)(),t=(0,u.T)(),{loading:s,error:l,isAuthenticated:c}=(0,o.v9)(e=>e.auth),[h,p]=(0,i.useState)({email:"",password:"",remember:!1}),[y,f]=(0,i.useState)(!1),[b,j]=(0,i.useState)(!1),{returnUrl:N}=e.query;(0,i.useEffect)(()=>{j(!0)},[]),(0,i.useEffect)(()=>{if(c){let t=N?decodeURIComponent(N):"/dashboard",s="string"==typeof t&&!t.includes("/auth/")&&!t.includes("returnUrl=");e.push(s?t:"/dashboard")}},[c,N,e]),(0,i.useEffect)(()=>{l&&y&&(t((0,x.fw)()),f(!1))},[h.email,h.password,l,t,y]);let w=e=>{let{name:t,value:s,type:a,checked:i}=e.target;p({...h,[t]:"checkbox"===a?i:s})},g=async e=>{e.preventDefault(),f(!0),t((0,x.x4)({email:h.email,password:h.password,remember:!0}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Вход | GOTOGROW"}),(0,a.jsx)("meta",{name:"description",content:"Войдите в свой аккаунт"})]}),(0,a.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-gray-900 to-slate-900 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",style:{pointerEvents:"auto"},children:(0,a.jsxs)(d.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-full max-w-md",style:{pointerEvents:"auto"},children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(d.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"mb-6",children:(0,a.jsx)("div",{className:"h-20 mx-auto flex items-center justify-center",children:(0,a.jsxs)("h1",{className:"text-3xl font-bold text-indigo-400",children:["GAME",(0,a.jsx)("span",{className:"text-white",children:"PORTAL"})]})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Добро пожаловать"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Войдите в свой аккаунт, чтобы продолжить"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 sm:p-8",children:[l&&(0,a.jsx)(d.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-500/10 border border-red-500/50 text-red-300 px-4 py-3 rounded mb-6",children:(0,a.jsx)("p",{children:l})}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",style:{pointerEvents:"auto"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:h.email,onChange:w,className:"input-primary w-full",placeholder:"your@email.com",style:{pointerEvents:"auto"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Пароль"}),(0,a.jsx)(m(),{href:"/auth/forgot-password",className:"text-sm text-blue-400 hover:text-blue-300",children:"Забыли пароль?"})]}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:h.password,onChange:w,className:"input-primary w-full",placeholder:"••••••••",style:{pointerEvents:"auto"}})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember",name:"remember",type:"checkbox",checked:h.remember,onChange:w,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-blue-600 focus:ring-blue-500",style:{pointerEvents:"auto"}}),(0,a.jsx)("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-300",children:"Запомнить меня"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full",style:{pointerEvents:"auto"},children:s?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Вход..."]}):"Войти"})})]}),(0,a.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Ещё нет аккаунта? "}),(0,a.jsx)(m(),{href:"/auth/register",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Зарегистрироваться"})]})]}),(0,a.jsx)("div",{className:"mt-8 text-center text-sm text-gray-400",children:(0,a.jsx)(m(),{href:"/",className:"hover:text-white",children:"← Вернуться на главную"})})]})})]})}},4852:function(e,t,s){"use strict";s.d(t,{T:function(){return i}});var a=s(1649);let i=()=>(0,a.I0)()}},function(e){e.O(0,[495,664,774,888,179],function(){return e(e.s=163)}),_N_E=e.O()}]);